<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reference lines: horizontal, vertical, and diagonal â€¢ cxplot</title>
  <!-- favicons -->
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
  <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/images/apple-touch-icon.png">
  <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/images/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/images/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/assets/images/apple-touch-icon-60x60.png">
  <!-- data -->
  <script type="text/javascript" src="/assets/data/mtcars.js"></script>
  <!-- jquery -->
  <script src="/assets/js/jquery.min.js" crossorigin="anonymous"></script>
  <!-- Bootstrap -->
  <link href="/assets/css/tidyverse.css" rel="stylesheet">
  <script src="/assets/js/bootstrap.min.js" crossorigin="anonymous"></script>
  <!-- Font Awesome icons -->
  <link rel="stylesheet" href="/assets/css/all.min.css" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/v4-shims.min.css" crossorigin="anonymous">
  <!-- clipboard.js -->
  <script src="/assets/js/clipboard.min.js" crossorigin="anonymous"></script>
  <!-- headroom.js -->
  <script src="/assets/js/headroom.min.js" crossorigin="anonymous"></script>
  <script src="/assets/js/jQuery.headroom.min.js" crossorigin="anonymous"></script>
  <link href="/assets/css/tidyverse-2.css" rel="stylesheet">
  <!-- pkgdown -->
  <link href="/assets/css/pkgdown.css" rel="stylesheet">
  <!-- CanvasXpress -->
  <link rel="stylesheet" href="/assets/css/canvasXpress.css" type="text/css" />
  <script type="text/javascript" src="/assets/js/canvasXpress.min.js"></script>
  <!-- Google -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XWN5F9X8DS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XWN5F9X8DS');
  </script>
  <!--optional theme-->
  <meta property="og:title" content="Reference lines: horizontal, vertical, and diagonal">
  <meta property="og:description" content="These geoms add reference lines (sometimes called rules) to a plot, either horizontal, vertical, or diagonal (specified by slope and intercept). These are useful for annotating plots.">
  <meta property="og:image" content="/assets/images/logo.svg">
  <meta name="twitter:card" content="summary">
</head>

<body data-spy="scroll" data-target="#toc" style="padding-top: 60px;">

  <div class="container template-reference-topic">

    <header>
      <div class="navbar navbar-default navbar-fixed-top headroom headroom--top headroom--not-bottom" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
              aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <div class="navbar-brand-container">
              <a class="navbar-brand" href="/index.html">cxplot</a>
            </div>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li>
                <a href="https://github.com/neuhausi/cxplot" class="external-link">
                  <span class="fab fa-github fa-lg"></span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <div class="row">

      <div class="col-md-10 contents">

        <div class="page-header">
          <h1>Reference lines: horizontal, vertical, and diagonal</h1>
        </div>

        <div class="ref-description">
          <p>These geoms add reference lines (sometimes called rules) to a plot, either horizontal, vertical, or diagonal (specified by slope and intercept). These are useful for annotating plots.</p>
        </div>

        <div class="ref-usage sourceCode" style="width: 700px !important;">
          <pre class="sourceCode r"><code>
<span class="fu">geom_abline</span><span class="op">(</span><span class="op">{</span>
 <span class="st">"mapping"</span> <span class="op">=</span> <span class="cn">null</span>,
 <span class="st">"data"</span> <span class="op">=</span> <span class="cn">null</span>,
 <span class="va">"..."</span>,
 <span class="va">"slope"</span>,
 <span class="va">"intercept"</span>,
 <span class="st">"na.rm"</span> <span class="op">=</span> <span class="cn">false</span>,
 <span class="st">"show.legend"</span> <span class="op">=</span> <span class="cn">NA</span>
<span class="op">}</span><span class="op">)</span>

<span class="fu">geom_hline</span><span class="op">(</span><span class="op">{</span>
 <span class="st">"mapping"</span> <span class="op">=</span> <span class="cn">null</span>,
 <span class="st">"data"</span> <span class="op">=</span> <span class="cn">null</span>,
 <span class="va">"..."</span>,
 <span class="va">"yintercept"</span>,
 <span class="st">"na.rm"</span> <span class="op">=</span> <span class="cn">false</span>,
 <span class="st">"show.legend"</span> <span class="op">=</span> <span class="cn">NA</span>
<span class="op">}</span><span class="op">)</span>

<span class="fu">geom_vline</span><span class="op">(</span><span class="op">{</span>
 <span class="st">"mapping"</span> <span class="op">=</span> <span class="cn">null</span>,
 <span class="st">"data"</span> <span class="op">=</span> <span class="cn">null</span>,
 <span class="va">"..."</span>,
 <span class="va">"xintercept"</span>,
 <span class="st">"na.rm"</span> <span class="op">=</span> <span class="cn">false</span>,
 <span class="st">"show.legend"</span> <span class="op">=</span> <span class="cn">NA</span>
<span class="op">}</span><span class="op">)</span>
</span></code></pre>
        </div>

        <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
        <table class="ref-arguments">
          <tbody>
            <tr>
              <th>mapping</th>
              <td>
                <p>Set of aesthetic mappings created by <a href="./aes.html"><code>aes()</code></a> or <a href="./aes.html"><code>aes_()</code></a>.</p>
              <td>
            </tr>
            <tr>
              <th>data</th>
              <td>
                <p>The data to be displayed in this layer. There are three options:</p>
                <p>If NULL, the default, the data is inherited from the plot data as specified in the call to <a href="./cxplot.html"><code>cxplot()</code></a>.</p>
                <p>A data.frame, or other object, will override the plot data. All objects will be fortified to produce a data frame. See fortify() for which variables will be created.</p>
                <p>A function will be called with a single argument, the plot data. The return value must be a data.frame, and will be used as the layer data. A function can be created from a formula (e.g. ~ head(.x, 10)).</p>
              <td>
            </tr>
            <tr>
              <th>...</th>
              <td>
                <p>Other arguments passed on to <code>layer()</code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>color</code> = "red" or <code>size</code> = 3. They may also be parameters to the paired geom/stat.</p>
              <td>
            </tr>
            <tr>
              <th>na.rm</th>
              <td>
                <p>If FALSE, the default, missing values are removed with a warning. If TRUE, missing values are silently removed.</p>
              <td>
            </tr>
            <tr>
              <th>show.legend</th>
              <td>
                <p>logical. Should this layer be included in the legends? NA, the default, includes if any aesthetics are mapped. FALSE never includes, and TRUE always includes. It can also be a named logical vector to finely select the aesthetics to display.</p>
              <td>
            </tr>
            <tr>
              <th>xintercept, yintercept, slope, intercept</th>
              <td>
                <p>Parameters that control the position of the line. If these are set, data, mapping and show.legend are overridden.</p>
              <td>
            </tr>
          </tbody>
        </table>

        <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>
        <p>These geoms act slightly differently from other geoms. You can supply the parameters in two ways: either as arguments to the layer function, or via aesthetics. If you use arguments, e.g. <a href="./geom_abline.html"><code>geom_abline(<code>intercept</code> = 0, <code>slope</code> = 1)</code></a>, then behind the scenes the geom makes a new data frame containing just the data you've supplied. That means that the lines will be the same in all facets; if you want them to vary across facets, construct the data frame yourself and use aesthetics.</p>
        <p>Unlike most other geoms, these geoms do not inherit aesthetics from the plot default, because they do not understand x and y aesthetics which are commonly set in the plot. They also do not affect the x and y scales.</p>

        <h2 class="hasAnchor" id="aesthetics"><a class="anchor" href="#aesthetics"></a>Aesthetics</h2>
        <p>These geoms are drawn using with <a href="./geom_line.html"><code>geom_line()</code></a> so support the same aesthetics: <code>alpha</code>, <code>color</code>, <code>linetype</code> and <code>size</code>. They also each have aesthetics that control the position of the line:</p>
        <p><a href="./geom_vline.html"><code>geom_vline()</code></a>: <code>xintercept</code></p>
        <p><a href="./geom_hline.html"><code>geom_hline()</code></a>: <code>yintercept</code></p>
        <p><a href="./geom_abline.html"><code>geom_abline()</code></a>: <code>slope</code> and <code>intercept</code></p>

        <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
        <div class="ref-usage sourceCode" style="width: 700px !important;">
          <pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">// Fixed values</span></span>
<span class="r-in">var <span class="va">cxp</span> = new cxplot<span class="op">(</span><span class="st">"canvas1"</span>, mtcars, <span class="fu"><a href="./aes.html">aes</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_vline.html">geom_vline</a></span><span class="op">(</span><span class="op">{</span><span class="st">"xintercept"</span>: <span class="fl">5</span><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"><div class="cnv-cont"><canvas id="canvas1" width="672" height="480"></canvas></div><script>var cxp = new cxplot("canvas1", JSON.parse(JSON.stringify(mtcars)), aes("wt", "mpg"));cxp.geom_point();cxp.geom_vline({"xintercept": 5})</script></span>
<span class="r-in"></span>
<span class="r-in">var <span class="va">cxp</span> = new cxplot<span class="op">(</span><span class="st">"canvas2"</span>, mtcars, <span class="fu"><a href="./aes.html">aes</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_vline.html">geom_vline</a></span><span class="op">(</span><span class="op">{</span><span class="st">"xintercept"</span>: <span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">]</span><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"><div class="cnv-cont"><canvas id="canvas2" width="672" height="480"></canvas></div><script>var cxp = new cxplot("canvas2", JSON.parse(JSON.stringify(mtcars)), aes("wt", "mpg"));cxp.geom_point();cxp.geom_vline({"xintercept": [1, 2, 3, 4, 5]})</script></span>
<span class="r-in"></span>
<span class="r-in">var <span class="va">cxp</span> = new cxplot<span class="op">(</span><span class="st">"canvas3"</span>, mtcars, <span class="fu"><a href="./aes.html">aes</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_hline.html">geom_hline</a></span><span class="op">(</span><span class="op">{</span><span class="st">"yintercept"</span>: <span class="fl">2</span><span class="fl">0</span><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"><div class="cnv-cont"><canvas id="canvas3" width="672" height="480"></canvas></div><script>var cxp = new cxplot("canvas3", JSON.parse(JSON.stringify(mtcars)), aes("wt", "mpg"));cxp.geom_point();cxp.geom_hline({"yintercept": 20})</script></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">// Calculate slope and intercept of line of best fit using your own function</span></span>
<span class="r-in"><span class="co">// (Intercept)          wt </span></span>
<span class="r-in"><span class="co">//   37.285126   -5.344472</span></span>
<span class="r-in">var <span class="va">cxp</span> = new cxplot<span class="op">(</span><span class="st">"canvas4"</span>, mtcars, <span class="fu"><a href="./aes.html">aes</a></span><span class="op">(</span><span class="st">"wt"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_abline.html">geom_abline</a></span><span class="op">(</span><span class="op">{</span><span class="st">"intercept"</span>: <span class="fl">3</span><span class="fl">7</span>, <span class="st">"slope"</span>: <span class="fl">-</span><span class="fl">5</span><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"><div class="cnv-cont"><canvas id="canvas4" width="672" height="480"></canvas></div><script>var cxp = new cxplot("canvas4", JSON.parse(JSON.stringify(mtcars)), aes("wt", "mpg"));cxp.geom_point();cxp.geom_abline({"intercept": 37, "slope": -5})</script></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">// To show different lines in different facets, use aesthetics</span></span>
<span class="r-in">var mean_wt = <span class="op">[</span><span class="op">[</span><span class="st">"cyl"</span>, <span class="st">"wt"</span><span class="op">]</span>, <span class="op">[</span><span class="fl">4</span>, <span class="fl">2</span><span class="fl">.</span><span class="fl">2</span><span class="fl">8</span><span class="op">]</span>, <span class="op">[</span><span class="fl">6</span>, <span class="fl">3</span><span class="fl">.</span><span class="fl">1</span><span class="fl">1</span><span class="op">]</span>, <span class="op">[</span><span class="fl">8</span>, <span class="fl">4</span><span class="op">]</span><span class="op">]</span>;</span>
<span class="r-in">var <span class="va">cxp</span> = new cxplot<span class="op">(</span><span class="st">"canvas5"</span>, mtcars, <span class="fu"><a href="./aes.html">aes</a></span><span class="op">(</span><span class="op">{</span><span class="st">"x"</span>: <span class="st">"mpg"</span>, <span class="st">"y"</span>: <span class="st">"wt"</span><span class="op">}</span><span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span><span class="fu"><a href="./geom_hline.html">geom_hline</a></span><span class="op">(</span><span class="fu"><a href="./aes.html">aes</a></span><span class="op">(</span><span class="op">{</span><span class="st">"yintercept"</span>: <span class="st">"wt"</span><span class="op">}</span>, mean_wt<span class="op">)</span><span class="op">)</span>;</span>
<span class="r-in"><span class="va">cxp</span><span class="fl">.</span>facet_wrap<span class="op">(</span><span class="st">"cyl"</span><span class="op">)</span>;</span>
<span class="r-in"><div class="cnv-cont"><canvas id="canvas5" width="672" height="480"></canvas></div><script>var mean_wt = [["cyl", "wt"], [4, 2.28], [6, 3.11], [8, 4]];var cxp = new cxplot("canvas5", JSON.parse(JSON.stringify(mtcars)), aes({"x": "mpg", "y": "wt"}));cxp.geom_point();cxp.geom_hline(aes({"yintercept": "wt"}, mean_wt));cxp.facet_wrap("cyl");</script></span>
</span></code></pre>
        </div>
      </div>

      <div class="col-md-2 hidden-xs hidden-sm" id="pkgdown-sidebar">
        <nav id="toc" data-toggle="toc" class="sticky-top">
          <h2 data-toc-skip="">Contents</h2>
          <ul class="nav">
            <li><a href="#arguments">Arguments</a></li>
            <li><a href="#details">Details</a></li>
            <li><a href="#aesthetics">Aesthetics</a></li>
            <li><a href="#examples">Examples</a></li>
          </ul>
        </nav>
      </div>

    </div>

    <footer>

      <div class="tidyverse">
        <p>cxplot is a part of <strong>CanvasXpress</strong>, a Javascript library for data analytics.
          Learn more at <a href="https://canvasxpress.org/" class="external-link">canvasxpress.org</a>.</p>
      </div>

      <div class="author">
        <p>
          Developed by CanvasXpress
        </p>
      </div>

    </footer>

  </div>

</body>

</html>
